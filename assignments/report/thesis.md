![](data:image/jpeg;base64...)

**TONGJI UNIVERSITY**

毕业设计(论文)

| 课题名称 | 用于具身智能研究的  六轴协作机械臂平台设计与搭建 |
| --- | --- |
| 副 标 题 |  |
| 学 院 | 机械与能源工程学院 |
| 专 业 | 机械设计制造及其自动化 |
| 学生姓名 | 庄善宁 |
| 学 号 | 2050828 |
| 指导教师 | 张氢 教授 |
| 日 期 | 2024.05.28 |

**用于具身智能研究的**

**六轴协作机械臂平台设计与搭建**

摘要

随着人工智能与机器人技术的深度融合，具身智能作为集软硬件为一体的智能体，其研究与应用日益受到重视。本毕业设计旨在设计并搭建一款适用于具身智能研究的六轴协作机械臂平台。该机械臂平台具备六个自由度，能够实现精确的位置与姿态控制，同时集成了位置与力觉反馈、视觉信息反馈等功能，以满足具身智能领域的研究需求。在设计过程中，注重机械臂的制造精度与成本之间的平衡，采用板材切割和3D打印技术，简化了制造流程，降低了成本，使得机械臂更加易于装配和普及。

研究内容包括机械臂的结构设计、电机通讯协议开发、AI算法集成以及仿真实验验证。通过参数计算和结构设计，完成了整体硬件平台的搭建。开发了一套通讯协议，实现了机械臂电机与计算机之间的高效通讯。针对机械臂抓取场景，完成了AI算法的搭建，并在仿真环境中进行了实验，验证了算法的可行性。最终，机械臂平台的设计满足了具身智能研究的特定需求，为机器人技术的进一步研究与应用提供了一个创新的平台。

相应程序已经开源至：

<https://github.com/ShanningZhuang/lib_robot_arm>

**关键词：**具身智能；六轴协作机械臂；结构设计；电机通讯；AI算法；仿真实验

**Design and Construction of a Six-Axis Collaborative Robot Arm Platform for Embodied Intelligence Research**

**ABSTRACT**

With the deep integration of artificial intelligence and robotics, embodied intelligence, as an intelligence entity that integrates both software and hardware, has increasingly attracted attention in research and application. This graduation project aims to design and build a six-axis collaborative robot arm platform, which is suitable for embodied intelligence research. This robot arm platform has six degrees of freedom, capable of precise control of position and posture, and is equipped with functions of position and force feedback, as well as visual information feedback, which can meet the research needs in the field of embodied intelligence. Considered the balance between the manufacturing precision and cost of the robot arm, we use sheet cutting and 3D printing technologies to simplify the manufacturing process and reduce costs, making the robot arm easier to assemble and popularize.

This graduation design includes the structure design of the robot arm, the development of motor communication protocols, the integration of AI algorithms, and the verification of simulation experiments. Through parameter calculation and structural design, the overall hardware platform was completed. A set of communication protocols were developed to achieve efficient communication between the robot arm motors and the computer. For the robot arm grasping scenario, AI algorithms were constructed and experiments were conducted in a simulation environment to verify the feasibility of the algorithms. In the end, the design of the robot arm platform met the specific needs of embodied intelligence research, providing an innovative platform for further research and application of robotics technology.

The relative program is open-sourced in:

<https://github.com/ShanningZhuang/lib_robot_arm>

**Keywords:** Embodied Intelligence; Six-Axis Collaborative Robot Arm; Structural Design; Motor Communication; AI Algorithms; Simulation Experiment

目录

[1 绪论 5](#_Toc168956803)

[1.1 课题背景与意义 5](#_Toc168956804)

[1.2 国内外研究现状 5](#_Toc168956805)

[1.2.1 协作机械臂研究现状 5](#_Toc168956806)

[1.2.2 具身智能研究现状 8](#_Toc168956807)

[1.3 本文主要工作及结构安排 10](#_Toc168956808)

[2 轻型协作机械臂结构设计及平台搭建 11](#_Toc168956809)

[2.1 引言 11](#_Toc168956810)

[2.2 机械臂参数选定 11](#_Toc168956811)

[2.3 机械臂构型选定 12](#_Toc168956812)

[2.4 力矩核算及电机选型 13](#_Toc168956813)

[2.5 机械臂机械性能核算 15](#_Toc168956814)

[2.6 整体的三维图纸设计 17](#_Toc168956815)

[2.7 机械的加工、装配 18](#_Toc168956816)

[2.8 本章小结 19](#_Toc168956817)

[3 轻型协作机械臂电机通讯设计 21](#_Toc168956818)

[3.1 引言 21](#_Toc168956819)

[3.2 电机通信方案控制 21](#_Toc168956820)

[3.3电机通讯协议 23](#_Toc168956821)

[3.4 运动控制结合ROS平台 24](#_Toc168956822)

[3.5 本章小结 25](#_Toc168956823)

[4 机械臂AI部分 27](#_Toc168956824)

[4.1 引言 27](#_Toc168956825)

[4.2 大语言模型的应用 27](#_Toc168956826)

[4.3 视觉语言模型实现零样本目标检测 28](#_Toc168956827)

[4.4视觉抓取姿态预测网络GraspNet 29](#_Toc168956828)

[4.5 Moveit实现机械臂轨迹规划 30](#_Toc168956829)

[4.6 AI算法的结合 31](#_Toc168956830)

[4.7本章小结 32](#_Toc168956831)

[5 仿真实验部分 34](#_Toc168956832)

[5.1 引言 34](#_Toc168956833)

[5.2 实验设计 34](#_Toc168956834)

[5.3 实验结果 35](#_Toc168956835)

[5.4 本章小结 36](#_Toc168956836)

[6 总结与展望 38](#_Toc168956837)

[6.1 总结 38](#_Toc168956838)

[6.2 展望 38](#_Toc168956839)

[参考文献 39](#_Toc168956840)

[谢 辞 40](#_Toc168956841)

1 绪论

1.1 课题背景与意义

众所周知，科技是第一生产力，也是社会发展的重要引擎。2023年12月，中央经济工作会议强调，要以科技创新推动产业创新，特别是以颠覆性技术和前沿技术催生新产业、新模式、新动能，发展新质生产力。当前，新一代人工智能技术与机器人技术深度融合，将人工智能技术应用到机器人当中是机器人行业发展的重大需求。

具身人工智能（Embodied Artificial Intelligence），简称为“具身智能”，是一种集软硬件为一体的智能体，具备通过感知和交互实时互动于环境的能力。典型的具身智能机器人具备感知、认知、决策行动的和执行器与环境进行交互，随环境变化做出相应的决策和行动。

在具身智能的理论框架下，机械臂、机器狗等物理载体的作用变得愈发显著。典型的具身智能系统以机器人为代表，通过机械臂的运动和互动实现对环境的感知与探索。相较于传统的计算机程序或虚拟智能系统，具身智能不仅能够执行任务，更能够通过与环境的实际互动获取更多环境信息，并通过这些信息进行学习和适应。

目前用于具身智能的机械臂多采用工业协作机械臂作为物理载体，而这些机械臂主要应用于生产领域，其场景多在工业流水线上。由于需要完成工业流水线上的精确、快速工作，这些机械臂制造精度和成本较高。然而，具身智能的研究场景多为人类的生活场景，例如居家和工作场所等，这些场景对机械臂的精度和速度等要求并不高，其更注重于传感器、AI算法的融合。传统工业机械臂的高成本无形之中抬高了对于具身智能领域的研究门槛，降低了机器人在我国的普及率。如何在机械臂的制造精度和成本之间找到一个平衡，在能够满足科研要求的情况下尽可能的使得机械臂成本低且易于制造就显得尤为重要。

因此，本毕业设计旨在设计一款用于具身智能研究的机械臂。机械臂具有六个自由度，从而能够到达指定的位置与姿态；其电机能反馈位置信息和力觉信息、相机能够反馈视觉信息，以满足当前对具身智能领域研究需求的要求；其制造简单、易于装配，成本相对较低，降低具身智能研究的门槛。

1.2 国内外研究现状

1.2.1 协作机械臂研究现状

机械臂的参数会根据使用场景而异，通常情况下，我们将应用场景中涉及人员的机械臂称为协作机械臂。在具身智能研究中，我们着重关注协作机械臂的应用。

在国外，对协作机械臂的研究始于较早时期。一些大型科研机构因航空航天或特殊应用环境的需求而进行了协作机械臂技术的研究，并取得了显著的成就。随着技术的不断进步和新市场需求的涌现，国外大型机器人公司与这些科研机构合作，相继推出了一系列轻量机械臂产品。

YuMi是瑞士ABB公司所研发的一款双臂协作机器人。如图1.1所示，结构上YuMi机械臂采用无刷电机加谐波减速器进行驱动，各个关节之间采用铝合金CNC加工保证机械臂刚度。YuMi的总体重量为38Kg，每条轻型机械臂具有7个自由度，单条手臂最大负载为0.5Kg，重复精度为0.2mm。

![](data:image/png;base64...)

图1.1 ABB机器人

丹麦机器人公司Universal Robots根据易于安装和使用的原则设计了UR机械臂，UR5 轻型机械臂如图1.3所示，自重18.4Kg，末端最大负载5Kg，可达范围850mm。各个结构之间采用金属件进行连接，并且关节采用低齿隙的谐波减速器保证精度。

![](data:image/png;base64...)

图1.3 UR机械臂

与发达国家相比，我国对协作机器人的研究起步较晚，但经过近些年来的大力发展，国内众多高校、科研院所和公司已经取得了丰硕的研究成果。

新松机器人自动化股份有限公司隶属于中国科学院，是中国机器人产业核心牵头企业之一，其研制的SCR5七自由度轻型机器臂如图1.4所示。该轻型机械臂总重33.8Kg，负载达到5Kg，具有较高的负载自重比。

![](data:image/png;base64...)

图1.4 新松机器人

2016年，遨博智能科技有限公司推出了国产轻型智能机械臂AUBO i5款机械臂，与UR机械臂一样，其有6个自由度。机械臂自重24公斤，最大有效负载为5公斤，工作半径为880毫米，末端重复定位精度高达±0.05毫米，工具端最大线速度为每秒2.8米，末端最大运行速度每秒180度。

![](data:image/png;base64...)

图1.5 遨博机器人

针对教育科研等方向，国内有一些初创公司如方舟无限、求之科技等也纷纷推出了自己的机械臂。这些机械臂使用行星减速器作为机械臂的关节减速器，相较于使用谐波减速器的传统工业机械臂，牺牲精度换来了成本上的优势，在科研上已经有了一定的应用，如图1.6。

![](data:image/png;base64...)

图 1.6 方舟无限机械臂在机器狗上的应用

在过去，国内外对协作机械臂的研究主要围绕工业生产环境，其功能偏重于装配、搬运等作业业务，不适用于主要执行抓取动作的具身智能研究当中；其零件精度过于高，增加了研究的成本，零件均采用金属件也导致了其自重高；其臂展和重量等参数主要是针对工业生产环境所涉及的，不适用于现在所关注的生活场景。因此，需要找到性能和功能之间的平衡点，就应用于具身智能研究行业的轻型机械臂结构设计展开深入研究。

目前国内生产的足式机器人（如宇树科技研发的机器狗、人形机器人等）由于其低成本和易用性，已经占据了相当大的国内外市场份额，许多科研工作都在这些平台上展开。当前，尽管国内协作机械臂在精度等方面与国外尚存在差距，但由于我国在供应链方面的优势，我国研发的轻型协作机械臂在成本上具有显著优势。在具身智能研究中，由于对精度的要求较低，若能在成本方面保持竞争力，或许能够在将来机器人的全面推广应用中在具身智能领域取得国际领先地位。

本毕业设计计划采用板材切割和3D打印的方式对机械臂进行结构设计，减轻重量的同时也易于制造，同时采用标准紧固件对机械臂进行装配，降低制造成本。

1.2.2 具身智能研究现状

具身智能是指将人工智能技术整合至物理实体中，使之能够理解、推理并与现实世界互动的智能系统。具身智能结合了自然语言处理、机器视觉以及深度学习的诸多技术，具身智能能够与机器人结合，完成各类任务。

在1950年，艾伦·图灵在其著作《计算机器与智能》中首次提出了具身智能的理念，标志着这一概念的诞生。受到当时技术的限制，具身智能还仅仅只停留在概念阶段。在当今时代，随着计算机视觉、图形学、自然语言处理和认知科学等领域的技术逐渐成熟，具身智能已迈入迅速发展的新阶段。大型科技公司如Google、Nvidia、Meta和字节跳动等已经建立了专门的具身智能研究实验室。此外，全球多个国家也成立了针对此领域的研究机构。在这一领域，一些企业和学术机构已经展示了显著的研究成果，推动着具身智能技术的进一步发展和应用。

2023年4月，美国斯坦福大学的Chelsea Finn教授团队提出了ALOHA机械臂示教学习系统，该系统利用低成本机械臂与机器人示教学习算法相结合。通过少量样本的训练，机械臂能够学习相应的操作。在该系统中所使用的机械臂为舵机机械臂，精度、输出力矩都远不如传统的伺服电机机械臂，然而其能够完成具身智能研究中数据采集以及实验的需求，也验证了低成本机械臂在具身智能研究中的可行性。

![](data:image/png;base64...)

图1.8 斯坦福大学的低成本机械臂示教学习系统

2023年6月，美国的Google公司发布了其研发的RT-2模型。该模型将传统的机器人底盘和机械臂与大型语言模型和视觉语言模型相连接，使机器人能够通过用户输入的文字，结合其搭载的相机传感器进行决策，并最终操作机械臂完成相应的动作。

2023年7月，美国斯坦福大学的李飞飞教授团队发布Voxposer框架，通过预训练的大型语言模型和视觉语言模型生成驱动机械臂的代码。结合深度相机，推导出机械臂在空间中的约束，最终实现机械臂对物品的零样本操作。

相较于美国，中国在具身智能研究方面起步较晚。我国字节跳动公司的研究团队研发的GR-1模型结合大语言模型，通过大量互联网视频学习如何操作机械臂，在一些简单任务上有着较高的正确率，但与Google公司发布的RT-2模型在正确率上还有一定差距。

2023年之后，中国也有一些企业发布了可以用于具身智能的研究的大型语言模型，如百度公司研发的文心一言和阿里巴巴公司研发的通义千问等。然而，与美国相比，中国在大型模型技术方面尚处于相对滞后的状态。这主要源于目前大型语言模型的开发需要庞大的工程投入，包括数据收集和模型训练，传统的高校科研模式难以支撑如此巨大的工作量。相较之下，美国的产学研结合使得高校能够与企业合作，企业中拥有大量工程师可以完成大型模型的训练，从而加速大型模型的实际应用。若我国能够凭借供应链带来的成本优势，将机器人应用推向大规模落地，随之而来的机器人商业化收益有望反哺我国的人工智能研究，最终使得我国在人工智能领域达到领先地位。

1.3 本文主要工作及结构安排

本课题主要研究内容有：

（1）对轻型协作机械臂进行参数计算、结构设计，完成整体硬件平台的搭建；

（2）编写一套通讯协议，完成机械臂电机与计算机之间的通讯；

（3）针对机械臂抓取的场景，完成一套AI算法的搭建；

（4）在仿真中进行实验，验证AI算法的可行性。

本文具体章节安排如下：

第一章为绪论，阐述了本课题的背景和研究意义，介绍了当前国内外协作机械臂的发展现状以及具身智能的研究现状，最后介绍了本文的内容安排。

第二章为轻型协作机械臂的硬件部分，完成对机械臂的参数选择、设计、加工以及装配。

第三章为轻型协作机械臂的电机通讯协议部分，为机械臂的控制搭建起一套通讯方案，并且编写相关软件程序以操控机械臂。

第四章为AI算法介绍部分，介绍了主流的用于具身智能研究的AI算法，并且将其结合起来以完成机械臂的抓取任务。

第五章为仿真实验部分，将第四章所集成的AI算法放到仿真实验中进行验证。

第六章对本文进行总结并展望。

2 轻型协作机械臂结构设计及平台搭建

2.1 引言

机械臂的设计需要考虑多种参数，包括但不限于臂展、额定力矩、负载能力、强度、刚度和制造成本。臂展决定了机械臂的工作范围，额定力矩和负载能力则直接影响其作业能力。制造成本作为一个经济因素，也需在设计初期予以重视。这些重要参数的确定不仅决定最终设计出机械臂的性能，也决定了下一步对关节电机的选型以及对结构件的设计、计算。

本章根据最终机械臂的应用场景，确定其参数，并针对所确定的参数对电机选型、以及对结构件设计计算；针对机械臂的运动学特性，确立机械臂的构型；为了确保整体强度、刚度，对机械臂连接件进行螺栓预紧力核算，对整体结构的强度、刚度进行计算。确定这些基础参数后，即可在制图软件中对机械臂进行设计；最终对机械臂进行加工、装配，制造出符合设计要求得机械臂。

2.2 机械臂参数选定

对机械臂来说有几项关键性能指标，包括自由度、工作空间和负载能力，同时，由于我们得机械臂可能应用在其他移动平台上，所以对机械臂得自重也有一定要求。在设计之前需要先确定这些参数，确定之后再做进一步计算。

机械臂的自由度定义为其在空间中进行定位和方向调整所需的独立控制参数总数。自由度的确定依据具体的操作需求，自由度如果过少，机械臂可能会没有办法到达指定的位置，并且机械臂的灵活性也会更差；较多的自由度能够提供更大的操作灵活性，但同时也可能导致结构变得复杂、刚性减弱及控制更为困难。因此要根据具体得任务类型以及机械臂得适用场景来确定机械臂的自由度。

在描述机械臂操作时，通常需要六个自由度来全面控制末端执行器的位置和姿态，即沿xyz三个轴线的移动和旋转。因此，由机器人学的相关理论可得，至少需要六个自由度来确保末端执行器在整个工作区域内可以自由到达任何位置和姿态。尽管增加自由度可以增强灵活性，但增加自由度的同时会引起机械臂重量增加以及控制算法复杂度提高。因此我们最终将机械臂的自由度数量设置为6。

工作空间定义为机械臂末端能够到达的所有点的集合，直接反映了机械臂的操作范围。在此空间中，设计必须避免机械臂的连杆与其他障碍物相碰撞，以保障操作的安全性。工作空间的设定应考虑关节和连杆在移动中所占空间，以及它们的长度和类型如何影响整体的运动范围。对比主流工业机器人，例如优傲机器人UR5和遨博机器人分别拥有850毫米和880毫米的操作半径，这两款工业机器人主要用于工业生产场景中，需要比较长的臂展，而我们设计的机械臂主要用于生活场景，因此臂展可以略小于工艺机械臂。参考了一个成年男性170cm臂展大约1700mm的数据，其中单臂长度约为700mm，因此我们设计的机械臂选定了700mm的工作半径。

关于负载能力，机械臂设计时须考虑其在不同运动速度下末端可以承载的最大重量。一般情况下，机械臂在低速运动时能够承载较大的负载，但在高速运动时需要重点关注结构的安全性。因为设计的轻型机械臂主要应用于轻量级作业如抓取、放置等简单任务，负载要求不高，所以其设计负载暂定为2公斤。

此外，由于该机械臂可能会安装在移动平台上，如机械狗或移动底盘，因此需要减轻机械臂的自重以便于移动，因此暂时设定机械臂自重为5公斤。

制造成本也需要纳入最后的考虑范围中，由于我们的机械臂主要运用在科研中，不需要过高的精度和响应速度，并且加工方式简单，所以暂定制造成本小于一万人民币。

根据上述分析，最终确定该工业机械臂的主要技术参数如表 2.1 所示。接下来的机械臂核算按照下述参数进行设计。

表2.1 机械臂的参数选定表

| **参数** | **拟定值** |
| --- | --- |
| 自身重量 | 小于5公斤 |
| 最大有效负载 | 2 公斤 |
| 工作范围 | 700毫米 |
| 自由度 | 6 个旋转关节 |
| 制造成本 | 小于一万人民币 |

2.3 机械臂构型选定

对于具有六自由度的机械臂，其末端执行器的姿态通常由后三个关节决定，而前三个关节负责确定第四关节的具体位置。根据这种功能分配，机械臂可分为四种主要类型：直角坐标型、圆柱坐标型、球坐标型及关节坐标型。每种类型的机械臂都有其独特的优势，但在设计轻型机械臂时，需要考虑到直角坐标型、圆柱坐标型和球坐标型机械臂在相同工作范围内可能会占用更大的空间，这与追求小型化和轻量化的设计目标不符。因此，本研究决定采用关节坐标型机械臂作为轻型机械臂的结构设计，机械臂构型如图2.1所示。

在此设计框架中，基座关节采用旋转型（关节1），肩关节为俯仰型（关节2），肘关节同样为俯仰型（关节3）；腕部设计包括一个俯仰关节（关节4）、一个旋转关节（关节5）和另一个旋转关节（关节6）。这种关节配置允许机械臂在有限空间内完成预定的运动范围，并且其结构较为紧凑，能够完成轻型机械臂的设计要求。

![](data:image/png;base64...)

图2.1 机械臂构型图

2.4 力矩核算及电机选型

在确定好机械臂构型后，需要通过设计的最大负载来计算各个关节的额定力矩，进而确定电机的选型。

各关节的动力参数要求是各关节的驱动元件和传动件选型的重要依据。由机器人动力学知识可知，完整的机器人动力学方程具有如下形式：

在式(2.1)中，符号q代表关节的位置向量，对于关节型机械臂来说即为机械臂关节转角，符号q̇代表关节速度向量，为关节转速，符号q̈则表示关节加速度向量，为关节角加速度。M代表惯性张量，C涉及科里奥利加速度和向心加速度相关的参数，F则与粘性摩擦及库仑摩擦相关，G表示由于惯性引起的负载，Q则代表关节的广义力向量。

针对机器人的动力学计算，一般来说机械臂在低转速、高负载的情况下运行。因此方程(2-1)中的C项即科里奥利和向心力影响可忽略。此外，在这种情况下，摩擦力也可不予考虑。这种计算方法，忽略动态负载而仅考虑静态负载的计算方式，称为静力学计算。考虑到本设计的机械臂安装位置固定或是在低速底盘上，且机器人运动速度不需要达到工业机器人的高速标准，因此选择使用静力学方法来评估机械臂所需的扭矩。

为了准确估算各关节所需的扭矩，我们假设每个关节的质量集中在其理论中心点，各连杆的重量则集中在连杆的中点位置。在静力学的情况下，主要考虑重力对机械臂的影响。机械臂受重力力矩最大处如图2.2所示，当机械臂位于该处时，重力对各个关节产生的力矩达最大，取重力加速度，对各个关节进行力矩核算。

![](data:image/png;base64...)

图2.2 机械臂负载图

对关节1：

由于关节1的转轴朝向与重力平行，因此关节1不受重力影响。参考其他机械臂设计，关节1的电机选用同关节2。

对关节2：

考虑末端负载时，关节2所受力矩为

经查询可得，额定力矩在15Nm以上的电机重量在400g左右。取其余4个电机自重G=400g。此时关节二所受电机自重的力矩为：

最终力矩为：

最终选用关节2电机为瓴控科技的MG6012i36电机，其额定力矩为25N\*m。

对关节3：

参考其他机械臂的设计，关节3选用和关节2相同的电机。

对关节4：

参考关节2的计算流程，最终选用瓴控科技的MG5010i10电机，其额定力矩为4N\*m。

对关节5：

参考关节2的计算流程，最终选用瓴控科技的MG4010i10电机，其额定力矩为2.5N\*m。

对关节6：

关节6末端接夹爪，夹爪一般沿中心对称，重力力偶矩为0，最终最终选用瓴控科技的MG4010i10电机。

在以上设计中没有考虑连杆自重带来的力矩，考虑到：

1.机械臂正常运作时不会出现在极限位置

2.关节4、5、6的电机自重并没有达到400g

3.连杆的自重相对于电机重量来说较小，经过估算连杆自重带来的力矩不超过2N\*m。

因此在设计时选择忽略连杆自重带来的影响，等设计完成之后再进行重新核算。以上选用的瓴控科技的MG系列电机采用行星减速器，减速比大，适用于低速高负载情况，并且瓴控科技的MG系列电机有针对CAN总线做相应的通信处理，方便第三章中所提到的通信协议编写，故选用该系列电机。

选用电机型号及参数如表2.2所示。

表2.2 选用电机型号及各项参数

| **电机型号** | **额定扭矩** | **峰值扭矩** | **额定电流** | **减速比** |
| --- | --- | --- | --- | --- |
| MG6010i36 | 25N\*m | 40N\*m | 4A | 1:36 |
| MG5010i10 | 4N\*m | 7N\*m | 4.4A | 1:10 |
| MG4010i10 | 2.5N\*m | 4.5N\*m | 3.5A | 1:10 |

2.5 机械臂机械性能核算

考虑到方便加工和装配，各零件之间的连接采用通孔螺栓螺母连接，此时需要通过螺栓螺母的预紧力带来的摩擦力来确保各连接件之间不会发生相对滑动。

螺栓相对滑动条件核算：

由于单个关节受到扭矩较大，因此需要保证各通孔之间的需要有一定距离，以保证摩擦力能够抵消力矩，以关节二后的连杆为例，取，通孔布置如图2.3所示。

![](data:image/png;base64...)

图2.3 连接件螺栓受力图

设外力扭矩为，各个螺栓的预紧力矩为，预紧力为。

由扭矩产生的切向摩擦力：

由重力产生的摩擦力：

其中G为机械臂自身重力加负载重力G=59N

因此摩擦力

经查询碳纤维与环氧树脂FR4的摩擦系数为

预紧力和摩擦力的关系：

其中为可靠性系数，取=1.2，m为结合面数，m=4

其中，k为系数，k=0.2，d为螺栓公称直径，由于选用M4螺栓，d=4mm

螺栓所受应力为：

采用304不锈钢螺栓，其屈服强度为。

查询机械设计手册可得，304不锈钢的M4螺栓在静载荷下的安全系数。

满足设计条件。

2.6 整体的三维图纸设计

电机选型选好之后，可以进行结构设计。在电机上有对应的铰制孔，只需要在连杆设计时留出相应孔位，之后即可通过螺栓进行连接。由于电机的旋转轴输出在一侧，在关节2、关节3的连杆连接时，由于重力作用连杆会受弯，从而影响机械性能。为了防止连杆一侧受弯，本设计在另一侧增加了一个轴承，轴承内侧由螺栓固定，外侧则与连杆相连，相应设计如图2.4，这样的设计使得连杆的重力分散在两侧，减小了电机连接处受到的弯矩，增加了整体结构的强度和刚度。

![](data:image/png;base64...)![](data:image/png;base64...)

图2.4 轴承连接处爆炸视图

而对于关节4、5、6，由于其所受重力较小，因此仅用碳纤维板和3d打印件进行连接。当结构较为简单时，使用碳纤维板材钻铣的方式进行加工，当有立体结构时，采用3d打印件进行连接。这样的设计相较于使用CNC加工来说，在保证强度的同时降低了成本。

最终机械臂的三维图纸渲染图如图2.5所示。最终的零件图以及总图见附件。

![](data:image/png;base64...)

图2.5 机械臂三维图纸渲染图

2.7 机械的加工、装配

考虑到成本，机械臂决定采用3D打印和板材切割进行加工，加工时打通孔。针对连杆等形状规则的加工件，采用碳纤维和环氧树脂FR4经过板材切割加工制造；对于一些复杂形状的加工件，采用3d打印聚乳酸PLA加工制造。各部件之间通过螺栓螺母连接，为了方便装配，采用M3和M4的螺栓装配。3D打印机采用拓竹X1进行加工。

将各个零部件加工后装配，最终加工出的机械臂如图2.6所示。

![](data:image/png;base64...)

图2.6 机械臂实物图

最终设计制造出的机械臂自重3.9kg，臂展715.5mm，能够满足设计需求。最终制造成本在9500人民币，也达到了低成本的目的。机械臂各项实际参数如表2.3所示。

表2.3 机械臂的实际参数表

| **参数** | **实际值** |
| --- | --- |
| 自身重量 | 3.9kg |
| 最大有效负载 | 2 公斤 |
| 工作范围 | 715.5mm |
| 自由度 | 6 个旋转关节 |
| 制造成本 | 9500人民币 |

2.8 本章小结

本章详细探讨了轻型协作机械臂的结构设计与平台搭建过程，涉及机械臂的关键性能指标的选定、构型设计、力矩核算及电机选型，并完成了机械臂的三维图纸设计与制造。

首先，针对机械臂的设计要求，确定了了臂展、额定力矩、负载能力、刚度与成本等多项关键参数。基于应用场景的具体需要，设定了机械臂的自由度为6，以确保末端执行器能在三维空间内自由地移动和旋转，达到预期的灵活性与操作范围。同时，我们考虑到了机械臂可能应用于移动平台，因此对机械臂的自重也做了严格要求。

在机械臂的构型选定上，考虑到在相同工作范围内的空间占用，选择了关节坐标型构型，该构型在保证了操作灵活性的同时，也有利于减小体积和重量，适应轻型设计的需求。通过动力学分析，进行了各关节所需扭矩的精确计算，并据此选定了适合的电机，确保了机械臂的性能和可靠性。

在机械性能核算方面，采用了通孔螺栓连接方式，确保了各部件间的稳固连接，通过螺栓的预紧力和摩擦力核算，保证了结构在运作过程中的安全与稳定。此外，还详细介绍了电机和关节的选型过程，确保了机械臂在不同负载和速度下的稳定性和安全性。

在三维图纸设计部分与机械的加工装配部分，根据最终所选用的加工方式对机械臂的结构进行设计，在底部的关节连接处加入了轴承来平均两侧的受力，避免单边受弯；加工装配时运用了3D打印和碳纤维板材切割等现代制造技术，优化了设计过程同时，也降低了生产成本。

最终，成功制造出既符合技术参数又满足成本效益的轻型机械臂，实现了设计预期目标。

3 轻型协作机械臂电机通讯设计

3.1 引言

机械臂制造出来之后，还需要对其进行控制，也就是控制机械臂上的电机。一般来说，电机内部的单片机和相应控制电路能够完成对电机的控制，而我们需要搭建其这样一套通信方案，使得我们能够通过上位机与各个电机单片机之间的通信来完成对各个电机的控制。同时，针对后续开发的易用性，还需要设计相应的程序接口，以让上层算法能够更好的控制机械臂。

本章描述了本毕业设计对于上位机与各电机之间的通讯方案，之后编写了电机相应的通讯接口，最后将相应程序放到ROS平台上，以实现可视化、用户界面等功能以及AI算法之间的通讯。

3.2 电机通信方案控制

在探讨六自由度机械臂的控制问题时，我们面临着对多个电机的精确协调任务。为实现这一目标，建立一个有效的数据通信系统是必要的，该系统需能够支持主计算机与各个运动控制单元之间的数据交流。随着系统复杂度的增加，传统的中心化运动控制系统开始显现其局限性，因此本研究选择不采用此类架构。

本文采用基于总线的分布式控制技术，特别是控制器局域网（Controller Area Network, CAN）总线，以解决上述问题。CAN总线开发于上世纪80年代，旨在优化众多测量和控制设备之间的数据交换效率，被广泛运用在汽车行业当中，用于控制汽车的诸多外设。CAN总线本质上是一个多主体或对等网络，支持网络上任何节点主动发送数据，实现了点对点、多点以及广播等多种数据传输方式。该总线通过使用差分信号传输，并结合多重检错功能和错误处理机制，确保了高可靠性。鉴于其在工业控制中的广泛应用和成熟的技术支持，加上其模块化的关节控制和灵活的网络扩展能力，CAN总线成为本项目实现机械臂分布式控制的理想选择。

此外，鉴于CAN总线使用的是差分电平，而个人计算机常用的USB协议不能直接兼容，我们采用了USB到CAN协议转换模块，以桥接这两种技术。该转换模块得到了包括PCAN在内的多个开源项目的技术支持和固件驱动，保障了系统的顺畅运作和后续维护的便利性。

图3.1为六自由度机械臂系统的控制总体方案图，个人电脑通过USB协议来控制USB转CAN模块，USB转CAN模块输出CAN信号对电机进行通讯控制，在总线的两端增加了两个阻值为120欧姆的电阻，以减少回波反射，提高抗干扰能力。该方案能使得个人电脑高效简洁的同时控制机械臂上的六个电机。

![](data:image/png;base64...)

图3.1 电机通讯方案图

同时，考虑到机械臂最终的线路布置，如果单纯的将电源线、信号线焊接在一起可能会导致信号线缠绕、断裂等问题。因此本毕业设计在总线的连接节点处设计了用于分线的PCB，从而达到电机、信号线、电源线能够模块化的拼接在一起。最终设计出的电路原理图与打样出的PCB如图3.2。图右侧为线路板电路原理图，将CAN总线之间相连，以及提供供电线路；图左侧为打样出的PCB板之后焊接完成的图片，白色插座为CAN总线插座，黄色插座为XT30电源插座。

![](data:image/png;base64...)

图3.2 连接板电路板设计图

机械臂供电方面，由于各个电机的额定电压为24V，根据各个电机的额定电流计算，机械臂整体额定电流约为23.4A。考虑到在固定平台和移动平台上部署的可能性，采用固定电源和电池作为机械臂的供电，当在固定平台上使用时使用固定电源，供电稳定且不用担心续航时间，当在移动平台上时使用电池。根据各项参数，选用固定电源为明纬 LRS-600-24，电池为亿森能 24V电池。固定电源和电池的型号及参数如表3.1所示。

表3.1 电源型号及参数表

| **型号** | **供电电压** | **额定电流** |
| --- | --- | --- |
| 明纬 LRS-600-24 | 24V | 25A |
| 亿森能 24V电池 | 24V | 24A |

固定电源以及电池的图片如图3.3所示。图左侧为明纬 LRS-600-24固定电源，图右侧为亿森能 24V电池。将供电由XT30接口，连接至上述连接板，即可完成对机械臂系统的供电。

![](data:image/png;base64...)

图3.3 固定电源以及电池

3.3电机通讯协议

在搭建起CAN总线通信硬件后，已经可以向CAN总线发送报文来对电机进行控制，但此时直接发送的报文为二进制信号，在可读性和易用性上都较差。因此，还需要对电机部分做相关接口编程，类比机器码以及汇编语言，机器码可读性较差，需要使用汇编语言来转换，而对电机来讲也需要一套协议将发送给CAN总线的二进制信号转换为可读的程序。由于USB转CAN的固件中已经包含了对CAN总线协议的支持，因此我们只需要关注CAN总线上传输的信息，而不需要关注其纠错、编码等功能。

电机常用的控制模式有位置控制、速度控制、电流控制。位置控制用于精确定位机械臂的各个关节位置，适用于需要高精度重复操作的任务，如装配和焊接。速度控制则主要应用于需要稳定速度移动的场景，如搬运和传输物料。电流控制通过调整电流来控制电机输出扭矩，适用于负载变化较大的情况，如抓取不同重量的物体。对于本毕业设计中所使用的无刷伺服电机，电机驱动板通过控制MOS管的关断来实现电流的控制，速度、位置控制是通过在电流控制之后增加PID控制器进行反馈控制实现的。PID参数设置是控制系统的核心，通过调整比例、积分和微分参数，可以优化系统的响应速度和稳定性。各个环的限幅设置则用于保护系统安全，防止超出设定范围的操作导致设备损坏。

根据上述描述，可以抽象出个人电脑所需要操控的电机相应接口，位置控制、速度控制、电流控制、位置、速度、电流反馈以及PID参数设置、限幅设置等。相应的电机抽象接口如表3.2所示。

表3.2 电机程序接口图

| **程序接口** | **功能** |
| --- | --- |
| 位置控制 | 控制电机到达目标位置 |
| 速度控制 | 控制电机保持目标速度 |
| 电流控制 | 控制电机输出目标电流 |
| 电机当前信息反馈 | 发送反馈要求帧，接收电机当前位置、速度、电流等信息 |
| PID参数调节 | 输入目标kp、ki、kd以及速度、电流限幅，调节PID相应参数 |
| 电机归零 | 发送电机归零帧，电机编码器归零 |

针对以上抽象接口编写相应C++程序接口，通过调用C++程序接口，即可完成对各个关节电机的控制，进而控制整个机械臂。相应开源程序见摘要中链接。

3.4 运动控制结合ROS平台

我们已经完成了电机通信协议的编程工作，能够通过程序来直接操作机械臂。但在机械臂的智能控制领域，关键在于将其操作与人工智能算法整合。这些算法可能本地运行，但鉴于机械臂作为一个边缘计算平台，通常算法部署在服务器上。因此，实现机械臂本地系统与服务器之间的数据交换显得尤为关键。

为此，我们采用了机器人操作系统（Robot Operation System, ROS）作为基础框架和工具集，来构建和维护机器人应用程序。ROS的分布式架构特别适用于复杂的AI算法和机械臂控制集成，允许不同的功能模块在同一系统内无缝交互。在ROS中，各节点可以分布在不同的硬件设备上，它们通过主题（topics）、服务（services）和动作（actions）进行高效通信，实现传感器数据的采集与处理以及控制命令的传递。

利用ROS平台，AI算法能够实时接收和分析来自机械臂的传感器数据，根据分析结果发送控制指令，以调整机械臂的行为。这种集成不仅优化了系统的响应速度和处理效率，也为系统未来的升级和扩展提供了必要的灵活性。ROS的模块化和可扩展性使得开发者可以根据需求更换不同的算法和硬件组件，进一步增强系统性能和适应性。

我们所设计的具体系统如图3.4所示，其中ROS平台为核心，调动其他功能以及传递信息。AI算法与ROS平台进行通信，接收来自ROS的数据以进行处理和决策，同时将指令发送回ROS以控制机械臂的行动。硬件设备（如机械臂本身的传感器和执行器）与ROS平台连接，发送传感器数据到ROS平台，并接收来自ROS的控制命令以执行具体操作。可视化界面用于展示ROS平台和机械臂的操作状态，以及AI算法的输出结果，便于用户监控和管理。其他应用，包括其他支持或辅助系统，如日志记录、系统监控等，它们也与ROS平台进行交互，以确保整个系统的协调运行。

![](data:image/png;base64...)

图3.4 机械臂系统通讯图

所有的数据和控制命令都通过ROS平台进行中转和分发，确保了系统的高效和模块化操作。这种设计允许各个组件独立开发和测试，同时保证它们可以无缝集成和协作。最终通过这套系统，在完成对机械臂控制、可视化、用户界面交互等功能的同时，也预留出相关接口，使得机械臂能够与AI算法之间进行通讯。

3.5 本章小结

本章主要讨论了轻型协作机械臂的通信系统设置，涵盖了从通信方案的选择到电机通信协议的开发，以及通过ROS平台实现机械臂的软件集成，预留了相关接口，使得在第四章讨论的AI算法能够控制机械臂。

首先，介绍了机械臂电机通信的需求背景和基本要求。考虑到传统中心化控制系统的局限性，本研究采用了基于总线技术的CAN总线。CAN总线工业控制中受到广泛应用，技术较为成熟，有着优越的数据传输效率和系统可靠性。为了兼容常用的USB协议，还引入了USB到CAN协议转换模块，确保了不同系统间的顺畅通信和后续维护的便利性。

接下来，详述了电机通信协议的开发过程。在硬件通信基础上，设计了一套高效的软件通信接口，旨在提升操作的可读性和易用性。通过编写具体的程序接口，实现了位置控制、速度控制和电流控制等关键功能。加入了PID参数调节和限幅设置，确保了系统的控制效果和运行安全。

最后，本章介绍了如何将机械臂与ROS平台整合，形成机械臂控制系统。利用ROS的分布式架构，本系统能够支持复杂的AI算法和机械臂控制的集成。系统通过各类节点在ROS平台上进行通信，实现了数据的实时采集与处理，以及控制命令的精确下发，从而提高机械臂的操作效率以及实现与AI算法之间的通讯。

搭建起上述系统之后，现在已经可以对通过上位机对机械臂进行操作了。图3.5为机械臂运行时的图片，其中左侧图是ROS平台中的可视化界面，结合第四章所提到的Moveit运动规划，能够实现对机械臂的实时运动规划，右侧图为机械臂实际运行时的图片。整套系统能够完成对机械臂的实时控制以及信息反馈。

![](data:image/png;base64...)![](data:image/png;base64...)

图3.5 机械臂运行图

4 机械臂AI部分

4.1 引言

如果说机械结构和电控系统是机器人的骨骼肌肉以及神经，那么AI算法即为机器人的大脑。本章将近几年发展迅速的AI算法相结合，最终达到让机械臂完成智能抓取物品的任务。

我们分析机器人从听到指令到执行任务中所需要用到的能力：

**（1）**能够听懂人类的自然语言，从而能够听懂用户发出的指令；

（2）能够对物品进行识别，能够判断出物体的种类以及在图像中的位置；

（3）能够判断出应该抓取物体的什么位置，针对不同形状的物体，能够预测出抓取点；

（4）能够进行运动规划，已知现有的机械臂状态以及机械臂的目标状态，计算出轨迹途径点。

这四个功能对应了接下来所用到的4个AI算法，大语言模型、视觉语言模型、视觉预测抓取点网络以及运动规划算法。

4.2 大语言模型的应用

随着人工智能技术的飞速发展，自然语言处理（Natural Language Process, NLP）成为了热门的研究领域之一。在这一领域中，预训练大语言模型（Pre-trained Large Language Models）凭借其强大的语言理解和生成能力，逐渐成为了研究和应用的热点，越来越多的企业开始将其应用于实际场景，如智能客服、虚拟助手、内容创作、内容审核、机器翻译等。

针对机器人来说，过去操作机械臂，需要比较繁琐的编程和精确的控制指令。而现在，大语言模型使得机械臂的操作变得更加直观和人性化。通过将自然语言指令直接转化为机械臂的动作，操作者可以更轻松地与机器人进行交互，无需深入了解复杂的编程语言或机器人控制逻辑。

例如，通过训练大语言模型以理解特定的任务指令，机械臂可以执行如“将这个物体从A点移动到B点”的任务，而无需编写详细的运动路径代码。此外，大语言模型还可以通过学习历史交互数据来优化机械臂的动作，提高任务执行的效率和准确性。这种学习能力使得机械臂能够适应多变的工作条件，并在不断的实践中自我完善。

在本次毕业设计中，主要用到了大语言模型对语义的理解，输入用户的指令，大语言模型能够将语义分割成需要抓取的物体以及最后放置的地点，并将这些信息交给其他AI算法做后续的处理。本次毕业设计选择使用由月之暗面公司所研发的国产大模型Kimi助手作为本次实验中所使用的大语言模型。

大型语言模型由于其庞大的模型参数量和复杂的训练数据集，极大地依赖于提示词（prompts）来精准理解用户的需求和上下文。这些提示词起到桥梁的作用，将用户的具体需求转化为模型可解析的形式，从而指导模型沿着正确的方向生成响应。有效的提示词不仅帮助模型聚焦于特定的任务或问题，还确保生成的内容与用户的查询紧密相关，极大地提高了交互的效率和质量。

因此，本次毕业设计专门为所需要完成的任务设定了相应提示词。最终的效果如图4.1所示。用户输入指令后，大语言模型会根据提示词所说的内容将指令转换为物体名称和放置地点的json键值对，这样就实现了对指令的解析。将输出后的指令输入进之后介绍的视觉语言模型即可达到目标的检测。

![](data:image/png;base64...)

图4.1 大语言模型提示词图

4.3 视觉语言模型实现零样本目标检测

对象检测是计算机视觉中的一个基础任务，传统上局限于识别预定义的、固定数量的语义类别。这种方法虽然在封闭环境中表现良好，但在面对不断变化的真实世界环境时，其局限性显著。特别是在机器人领域，能够适应新对象和场景的能力对于提升机器人的自适应性和实用性至关重要。

在开放词汇表检测的挑战方面，传统的对象检测方法需要大量具有注释的训练数据，而这在开放标签空间的环境下尤为困难，因为获取、注释和管理大量或开放类别的训练数据不仅成本高昂，而且非常耗时。这里，零样本对象检测技术提供了一种有力的解决方案。零样本对象检测技术允许模型识别其训练数据中未曾出现过的对象类别，这对于机器人执行新颖或未知任务的能力至关重要。

具体地，零样本对象检测技术在机器人任务中的应用包括但不限于：自动化探索和救援任务中识别未知障碍物或工具，以及在服务机器人领域中应对客户需求变化时识别新的用户交互对象。通过使用语义嵌入或属性描述，零样本对象检测技术使机器人能够“推断”未见过的对象的外观和功能，从而在没有事先准备的情况下，更好地适应动态变化的环境。而对现在具身智能的聚焦场景下，所需要识别、检测的物品种类有很多，采用零样本对象检测技术能够帮助机器人认识这些物品并且进行操作。

本次实验中所使用的视觉语言模型为Google Research所开发的OWL模型，由于其数据量大的同时并且开源，能够很好的应用在我们的实验中。

图4.2为视觉语言模型的具体应用，将图片和想要在图片中识别的标签语言输入进视觉语言模型OWL中，OWL会输出对应的物体在图像中的坐标，将这些坐标输入进视觉抓取姿态预测网络Graspnet即可预测出物体对应的抓取点姿态。

![](data:image/png;base64...)

图4.2 视觉语言模型图

4.4视觉抓取姿态预测网络GraspNet

GraspNet 是由上海交通大学研究团队开发的用于机器人抓取任务的AI算法和数据集，这个数据集包含了超过一亿个抓取姿态，这些姿态是通过97280图像捕捉的，图像覆盖了 190 多个杂乱场景中的 88 种日常对象。GraspNet的核心特点包括其庞大的数据集规模，这为深度学习模型的训练提供了丰富的数据以及一个统一的评估系统，它通过解析计算直接报告抓取成功与否，简化了评估过程；以及一个端到端的抓取姿态预测网络，该网络通过解耦学习接近方向和操作参数，增强了抓取的稳健性。此外，GraspNet 还引入了抓取亲和场表示法，进一步提高了抓取的鲁棒性。由于GraspNet开源，并且其工作在领域内有一定的影响力，本次实验选用GraspNet对物体的抓取姿态进行预测。

本文采用GraspNet来预测机械臂的抓取点，如图4.3所示，输入相机的RGB三色图像以及深度图像，Graspnet即可返回预测的抓取点在相机坐标系下的抓取位姿，接下来需要将该位姿进行坐标变换，变换为机器人坐标系下的位姿，而后输入进运动规划算法。

![](data:image/png;base64...)

图4.3 抓取点预测图

4.5 Moveit实现机械臂轨迹规划

Moveit是ROS系统中专为机器人运动控制设计的核心组件，集成了运动学动力学库(Kinematics and Dynamics Library, KDL)、开源运动规划库(Open Motion Planning Library, OMPL)等多个开源库。

我们使用统一机器人描述格式（Unified Robot Description Format, URDF）文件格式详细描述了一个机器人模型。该模型包含机器人的详细参数，以及碰撞检测和运动学计算，从而帮助机器人完成轨迹规划、运动控制等功能。

使用Moveit配置助手(setup assistant)与轻型机械臂的URDF文件相结合，配置完成后，启动Moveit，机器人在ROS中的可视化显示效果如图4.4所示。左侧为Moveit规划的相关设置，右侧为机器人的可视化以及运动规划交互GUI。将目标末端姿态输入进Moveit当中或通过与右侧的GUI进行交互，即可规划出对应轨迹。轨迹通过ROS中的消息传递发送给机械臂，以进行下一步操作。

![](data:image/jpeg;base64...)

图4.4 Moveit轨迹规划图

4.6 AI算法的结合

AI算法流程的最终目标是实现用户通过自然语言指令控制机械臂执行任务，流程如图4.5所示。这一流程始于用户通过自然语言输入任务指令，例如指定不同颜色方块的放置区域。随后将指令传送进大语言模型Kimi，Kimi解析这些指令并将其转换为具体的物体-地点键值对，识别出任务目标对象及其目标位置。接下来，通过摄像头等传感器获取机械臂工作区域的图像信息，为后续步骤提供必要的视觉数据。视觉语言模型OWL负责分析这些图像信息，识别出各个目标物体在图像中的位置和特征。紧接着，视觉预测抓取点网络Graspnet根据识别出的物体预测机械臂的最佳抓取点，确保机械臂能够准确抓取和移动指定的物体。获取到抓取点之后，经过坐标转换将抓取点由相机坐标系转换至机械臂坐标系，输入进Moveit进行机械臂运动规划，根据任务描述和预测的抓取点规划机械臂的运动路径。最终，机械臂按照规划好的轨迹执行具体操作，将目标物体移动到指定位置，完成用户指令的任务。整个流程是自动化的，通过各个AI算法的相互信息传递和配合实现最终的任务执行。

![](data:image/png;base64...)

图4.5 AI算法结合框架

4.7本章小结

本章深入探讨了人工智能（AI）算法在机械臂操作中的应用，展示了AI如何增强机械臂的功能，使其能够理解自然语言指令、识别并操作物体，并进行复杂的运动规划。这些AI算法的实现标志着机械臂技术从简单的传统的编程式的自动化向智能化的转变。

首先，本章介绍了AI在机械臂控制中的四个关键功能：自然语言理解、物体识别、抓取点预测和运动规划。这些功能由四个AI算法支持：大语言模型、视觉语言模型、视觉预测抓取点网络（GraspNet），以及Moveit用于轨迹规划。

大语言模型的应用使得机械臂能够理解和执行基于自然语言的指令，极大地简化了用户与机器人的交互过程。使用的国产模型Kimi助手，不仅提高了指令解析的准确性，还优化了信息处理的流畅性。

视觉语言模型OWL的应用，允许机械臂在没有先前经验的情况下识别新的物体。这种零样本目标检测技术扩展了机械臂的应用场景，增强了其在未知环境中的适应能力。

GraspNet的引入，为机械臂提供了准确的抓取点预测，确保了操作的精确性和效率。这一功能在机械臂需要处理多样或未知物体的场景中显得尤为重要。

最后，通过Moveit集成的运动学和动力学库，实现了精确的轨迹规划。这不仅确保了机械臂动作的流畅性和安全性，还提升了整体操作的效率。

通过结合这些先进的AI技术，本章设计了一系列AI算法用于机械臂的抓取任务，该系统不仅能理解复杂的人类指令，还能自主识别和处理物体，且能规划和执行抓取任务。最终的仿真实验验证在第五章提及。

从本章也可以看出，随着AI的发展对于机器人应用的革新。在过去要训练出一个用于抓取的机器人，往往需要对图片数据集进行采集、标注、训练等繁琐的工作，周期长的同时也没办法达到比较好的效果。而随着AI算法的进一步发展，使用大模型带来的先验知识能够很好的帮助机器人理解自然语言、进行图片识别、抓取预测等，极大程度上方便了机器人的科研与实际应用。

5 仿真实验部分

5.1 引言

在机器人的研究中，实物实验面临着以下问题：

（1）搭建实物相较于仿真实验，需要花费大量的时间和精力，无法对算法进行快速的验证；

（2）由于AI算法的输出没有办法提前预知，因此实物实验的安全性无法保证；

（3）实物实验需要对硬件进行标定、校准等，需要大量前期工作。

在完成AI算法的部署之后，需要对AI算法进行测试，考虑到上述效率、安全性等方面，现在主流的AI算法部署的做法是：在仿真平台中验证AI算法的可行性、安全性后，再将算法移植到物理平台上进行测试。

5.2 实验设计

Mujoco（Multi-Joint dynamics with Contact）是一个高效的物理引擎，被广泛应用于机器人和机械臂的仿真研究中。Mujoco通过精确模拟多关节动力学和复杂的接触力学，为研究人员提供了一个强大的工具来进行仿真实验和算法验证。其高效的物理计算能力和灵活的模型构建方式，使其在各种研究场景中均表现出色。

Mujoco的仿真环境对机器人的实验有很大帮助。例如，在机械臂路径规划的研究中，Mujoco能够帮助验证不同路径规划算法的效果，通过模拟不同的环境和障碍物，评估机械臂的运动轨迹和避障性能，这些都是在真实的物理平台中所难以做到的。Mujoco如今已经被广泛应用在机器人以及AI领域。

综合上述分析，本次仿真实验选择Mujoco作为仿真平台，在Mujoco中搭建起机械臂，最终仿真实验的图片如图5.1所示。

![](data:image/png;base64...)

图5.1 仿真实验图

为了完成关于AI算法的验证，本实验设计了一个夹取方块的任务。机械臂放置在桌面上，左右两侧有两个用于放置方块的区域。初始化时，会在桌面生成红绿蓝三种颜色的方块，位置和随机，机械臂的目标是将桌面上的方块放置到指定的区域。图5.1左侧为仿真实验的场景，右上图为视觉语言模型OWL所识别出的物体种类，右下图为预测抓取的图片，图中红色夹爪型的几何体即为预测的抓取位置在三维点云图中的位置表示。

5.3 实验结果

最终经过测试，在仿真实验中能够完成对于方块的识别和抓取。实验过程如图5.2所示，机械臂根据抓取点预测以及图像识别，进行运动规划，到达抓取点之后，夹爪关闭，对物体进行抓取，随后将物体抓取到指定区域，松开夹爪，完成对于物体的放置。

![](data:image/png;base64...)

图5.2 实验过程图

本次实验在Mujoco中进行了1000次实验，最终能够成功完成抓取任务的几率达89.6%。由于最终的算法实现是由一系列算法结合而成的，因此每个环节的成功率都会对最终的实验结果产生影响。从实际情况上来看，由于任务较为简单，大语言模型和视觉语言模型的成功率都接近100%，而主要问题出现在视觉抓取预测模型GraspNet以及轨迹规划上。由于视觉抓取预测模型GraspNet独立于机械臂本体，因此在预测抓取点时会预测出一些机械臂不可达的点，因此导致失败；轨迹规划上，实验中所使用的夹爪体积较大，当方块堆积时容易在抓取目标方块时碰撞到其他方块，从而导致实验失败；并且在运动规划时，可能没有考虑到方块在桌面的遮挡问题，从而导致在将方块放置到目标区域的途中可能会误触到其他区域。如图5.3所示，机械臂将绿色方块放置到指定位置时，误碰到桌面的红色方块。由于我们拍摄图片时，没有考虑到这样的情况发生，仅仅只拍摄一张图片，因此最终导致抓取失败。对此可以加入视觉的闭环伺服解决该问题，除此之外，对于抓取点预测和机械臂本体的结合以及轨迹规划的避障问题还需要进一步解决。

![](data:image/png;base64...)

图5.3 机械臂抓取误碰图

5.4 本章小结

本章探讨了利用仿真技术对机械臂AI算法进行验证的方法与过程。仿真实验的主要目的是在物理实验之前，通过虚拟环境来测试和优化AI算法，以确保算法的有效性、安全性和适用性。

首先，本章概述了采用仿真实验相较于实物实验的三大优势：效率高、安全性好，以及减少对硬件的依赖。这些优势使仿真成为了AI算法开发中不可或缺的一环，特别是在初期阶段，通过仿真平台可以快速迭代和优化算法。

随后介绍了仿真平台Mujoco的选择与应用。Mujoco作为一个高效的物理引擎，能够精确模拟多关节动力学和复杂的接触力学，为机械臂路径规划、运动轨迹评估和避障性能提供了强大的支持。这一部分特别指出，通过仿真可以在没有实际搭建复杂机械设备的情况下，验证各类AI算法的实用性和效果，提升效率。

实验设计部分详细描述了机械臂执行的夹取任务。在一个控制环境中，机械臂需要识别并搬运不同颜色的方块到指定区域。这部分实验涵盖了第四章中所介绍的AI算法—包括大语言模型、视觉语言模型OWL、视觉抓取预测模型GraspNet以及机械臂运动规划库Moveit的综合应用能力。

最后，仿真实验结果显示，整体任务完成率高达89.6%，但在某些特定情况下还是会出现误触和碰撞等问题。对此仍需要针对运动规划算法进行相关改进。

6 总结与展望

6.1 总结

本次毕业设计成功完成了一款六轴协作机械臂平台的设计与搭建，旨在为具身智能研究提供一个低成本、易于操作且功能完备的实验平台，并通过仿真实验对AI算法进行了验证。主要工作内容有以下几点：

**（1）机械臂硬件设计与制造**：对机械臂进行参数选定、结构设计和加工制造。机械臂的结构设计考虑了操作的灵活性和工作空间的需求，采用了关节坐标型构型，确保了机械臂具有六个自由度，能够满足复杂操作的需求。并且在设计和制造过程中，注重成本控制，采用3D打印和板材切割技术，减少了生产成本，使得机械臂的普及成为可能。

**（2）电机通讯协议以及软件平台开发**：开发了一套电机通讯协议，基于CAN总线技术，实现了上位机与机械臂电机之间的实时通讯和伺服控制。通过ROS平台连接机械臂硬件本体与上层的运动规划算法，并且预留出相关接口供AI算法对机械臂进行控制。

**（3）AI算法集成**：集成了包括大语言模型、视觉语言模型、抓取姿态预测网络和运动规划算法在内的AI技术，使得机械臂能够理解自然语言指令，识别物体，并自主规划运动轨迹以完成抓取任务。

**（4）仿真实验**：在Mujoco仿真平台上进行了相关抓取实验，验证了AI算法的有效性，并对结果做了一定分析。

6.2 展望

**尽管本毕业设计取得了一定的成果，但仍有诸多方面可以进一步改进和拓展：**

**（1）机械结构：机械结构上还有部分可以进行优化、改进，使得机械臂在满足强度要求的同时更加轻。**

**（2）电控部分：电机的接线较乱，可以通过其他办法精简；电机的控制PID参数还需要进一步调整，可以通过参数辨识、动力学模型或前馈等方法来改进机械臂控制性能。**

**（3）AI算法部分：**抓取点的可达性分析和避障轨迹的优化还需要进一步优化，以解决抓取时会碰撞到其他物体的问题。

（4）实验部分：由于时间紧张，AI算法在机械臂实体上还需要进一步的验证。

参考文献

[1]赵申申.双臂协作机器人设计与传接操作规划[D].大连理工大学,2020.DOI:10.26991/d.cnki.gdllu.2020.001497.

[2]齐彬.轻型机械臂结构设计及仿人运动方法研究[D].哈尔滨工业大学,2019.DOI:10.27061/d.cnki.ghgdu.2019.000803.

[3]陶子航.轻型机械臂结构及控制系统的设计研究[D].中国科学技术大学,2017.

[4]丁玮.六自由度经济型工业机械臂的结构优化设计与研究[D].江苏科技大学,2018.

[5]马江.六自由度机械臂控制系统设计与运动学仿真[D].北京工业大学,2009.

[6]马强.六自由度机械臂轨迹规划研究[D].哈尔滨工程大学,2007.

[7]胡云峰.六轴机械臂控制系统设计及仿真[D].武汉纺织大学,2021.DOI:10.27698/d.cnki.gwhxj.2021.000020.

[8]韩峥,刘华平,黄文炳,等.基于Kinect的机械臂目标抓取[J].智能系统学报,2013,8(02):149-155.

[9]王林.国外具身智能发展及对我国的启示[J].上海信息化,2023,(10):49-52.

[10]陈炳阳.仿人机械手臂一体化结构设计及其控制系统研究[D].北京化工大学,2023.DOI:10.26939/d.cnki.gbhgu.2023.000420.

[11]田海波,马宏伟,魏娟.串联机器人机械臂工作空间与结构参数研究[J].农业机械学报,2013,44(04):196-201.

[12]钟新龙,渠延增,王聪聪,等.具身智能产业发展动向及创新能力研究[J].软件和集成电路,2023,(11):62-73.DOI:10.19609/j.cnki.cn10-1339/tn.2023.11.010.

[13]孟繁科.具身智能：智能进化的新阶段[J].中国工业和信息化,2023,(07):6-10.DOI:10.19609/j.cnki.cn10-1299/f.2023.07.011.

[14]刘宏建.具身智能:通用人工智能发展的必经之路[J].张江科技评论,2023,(06):14-15.

[15] Zhao T Z, Kumar V, Levine S, et al. Learning fine-grained bimanual manipulation with low-cost hardware[J]. arXiv preprint arXiv:2304.13705, 2023.

[16] Chebotar Y. TY: RT-2: New model translates vision and language into action[J]. 2023.

[17] Huang W, Wang C, Zhang R, et al. Voxposer: Composable 3d value maps for robotic manipulation with language models[J]. arXiv preprint arXiv:2307.05973, 2023.

谢 辞

四年的大学生活就要结束了。在此我想向所有帮助我、支持我的老师、同学、朋友、亲人们献上由衷的感谢。

首先要感谢我的本科生导师汤奇荣老师，在刚上大一的时候我的成绩很差，甚至挂了一科，是汤老师给我安慰和鼓励，给我前进的动力，之后我不断努力，最后取得今天的成绩。在大二之后，汤老师给了我进入实验室中参与大创项目的机会，在项目研究期间我掌握了机器人和AI的相关知识，也确定了将来研究的方向，这次毕业设计所用到的很多技术就是在项目中学习的，将来我也会继续研究机器人和AI领域，不辜负汤老师对我的教导和期待。

同时也要感谢我的班主任和毕业设计指导老师张氢老师。平时，张老师作为班主任，不仅在学业上给我们很多指导，而且也教给我们很多做人做事的道理。在完成毕业设计的过程中，张老师对我耐心地指导，给我提出开题报告、毕业论文的修改意见，及时提醒我各个时间节点以及注意事项。

感谢程军老师、姜涛老师、刘晓东老师、符长虹老师等，在课后，我有不懂的问题经常去麻烦老师们，老师们牺牲课后时间给我做答疑指导。

还要感谢实验室郭瑞琴老师，郭老师在项目期间给予我们很多指导；感谢李长付老师，李老师对实验室的管理确保了我们的实验安全、也给我们提供了舒适的实验环境。感谢实验室师兄张敬涛、钟楼、沈逸超、余敏、崔远哲等学长，在本科的项目期间给予我很多建议与帮助。感谢梁逸宸、苏士博、蒙飞宇、谭劲军等学长在项目中带我做实验、教会我各种知识。感谢李威、侯天平等朋友和同学，感谢陈子航、孙瑞、申翔宇等学弟。不会忘记我们一起在实验室并肩作战的每个日日夜夜，每次深夜从实验室回宿舍，是你们的陪伴让我不感到孤单。

感谢苏州敖妹、长沙班长和温州小贝，她们的优秀给了我前进的动力，希望她们接下来一切顺利。

感谢我的家人，求学路上有着许多困难，他们是我最大的后盾，一路上的鼓励和支持给了我前进的动力。

最后要感谢刘玉枫、杨久春、花志华、康益诚、伟鸿、俞舜、何青山、杨赵山、刘天煜、刘坪、韩子琪、桂哲伟、侯天平、雷翔、莫雨鑫、刘昊等兄弟们。共同的奋斗目标让我们走到了一起，你们不仅是我的兄弟，更是我的老师、我的榜样、我的战友。我们一起去图书馆、一起去安楼自习、一起吃饭、一起去实验室。几年下来，我已经习惯了每天早上醒来，和大家一起去学习，一起奋斗到晚上10点、11点、12点、1点、2点、3点、4点，拖着疲惫的身体，大家一路上说说笑笑回宿舍。4年下来1400多天，这样的日子至少过了700天，这样的生活很累，还好有你们陪伴。最后大家都取得了好的成绩、有了好的去处。非常幸运有你们这帮兄弟，你们是我本科期间最宝贵的财富。
